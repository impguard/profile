# Gather facts

- name: Gather brew facts
  shell:
    brew --prefix
  register: brewpath

- name: Create brew facts
  set_fact:
    brew_prefix: "{{ brewpath.stdout }}"

# Neovim

# - name: Install neovim
#   become: no
#   homebrew:
#     name: neovim

- name: Setup plug directory
  file:
    path: ~/.local/share/nvim/site/autoload/
    state: directory

- name: Setup plug
  get_url:
    url: https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
    dest: ~/.local/share/nvim/site/autoload/plug.vim

# autojump

- name: Install autojump
  homebrew:
    name: autojump

- name: Sourcing autojump in bashrc
  blockinfile:
    path: ~/.bashrc
    marker: "# {mark} ANSIBLE - autojump"
    content: source {{ brew_prefix }}/share/autojump/autojump.bash

# fzf

- name: Install fzf
  homebrew:
    name: fzf

