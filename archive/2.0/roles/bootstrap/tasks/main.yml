- name: Updates apt cache
  import_tasks: apt.yml
  when: ansible_os_family == 'Debian'

- name: Setup bashrc
  become: no
  import_tasks: bashrc.yml

- name: Setup code directory
  become: no
  file:
    name: ~/code
    state: directory

- name: Check if brew is installed
  become: no
  shell: command -V brew
  ignore_errors: yes
  register: brewstatus

- name: Install linuxbrew
  import_tasks: linuxbrew.yml
  when:
  - ansible_os_family == 'Debian'
  - brewstatus.rc | int != 0

- name: Install homebrew
  import_tasks: homebrew.yml
  when:
  - ansible_os_family == 'Darwin'
  - brewstatus.rc | int != 0
